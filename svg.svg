<svg aria-roledescription="stateDiagram" role="graphics-document document" viewBox="0.5 0 1920.375 960" style="max-width: 1920.375px;" class="statediagram" xmlns="http://www.w3.org/2000/svg" width="100%" id="Stately-mermaid"><style>#Stately-mermaid{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#Stately-mermaid .error-icon{fill:#552222;}#Stately-mermaid .error-text{fill:#552222;stroke:#552222;}#Stately-mermaid .edge-thickness-normal{stroke-width:2px;}#Stately-mermaid .edge-thickness-thick{stroke-width:3.5px;}#Stately-mermaid .edge-pattern-solid{stroke-dasharray:0;}#Stately-mermaid .edge-pattern-dashed{stroke-dasharray:3;}#Stately-mermaid .edge-pattern-dotted{stroke-dasharray:2;}#Stately-mermaid .marker{fill:#333333;stroke:#333333;}#Stately-mermaid .marker.cross{stroke:#333333;}#Stately-mermaid svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#Stately-mermaid defs #statediagram-barbEnd{fill:#333333;stroke:#333333;}#Stately-mermaid g.stateGroup text{fill:#9370DB;stroke:none;font-size:10px;}#Stately-mermaid g.stateGroup text{fill:#333;stroke:none;font-size:10px;}#Stately-mermaid g.stateGroup .state-title{font-weight:bolder;fill:#131300;}#Stately-mermaid g.stateGroup rect{fill:#ECECFF;stroke:#9370DB;}#Stately-mermaid g.stateGroup line{stroke:#333333;stroke-width:1;}#Stately-mermaid .transition{stroke:#333333;stroke-width:1;fill:none;}#Stately-mermaid .stateGroup .composit{fill:white;border-bottom:1px;}#Stately-mermaid .stateGroup .alt-composit{fill:#e0e0e0;border-bottom:1px;}#Stately-mermaid .state-note{stroke:#aaaa33;fill:#fff5ad;}#Stately-mermaid .state-note text{fill:black;stroke:none;font-size:10px;}#Stately-mermaid .stateLabel .box{stroke:none;stroke-width:0;fill:#ECECFF;opacity:0.5;}#Stately-mermaid .edgeLabel .label rect{fill:#ECECFF;opacity:0.5;}#Stately-mermaid .edgeLabel .label text{fill:#333;}#Stately-mermaid .label div .edgeLabel{color:#333;}#Stately-mermaid .stateLabel text{fill:#131300;font-size:10px;font-weight:bold;}#Stately-mermaid .node circle.state-start{fill:#333333;stroke:#333333;}#Stately-mermaid .node .fork-join{fill:#333333;stroke:#333333;}#Stately-mermaid .node circle.state-end{fill:#9370DB;stroke:white;stroke-width:1.5;}#Stately-mermaid .end-state-inner{fill:white;stroke-width:1.5;}#Stately-mermaid .node rect{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#Stately-mermaid .node polygon{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#Stately-mermaid #statediagram-barbEnd{fill:#333333;}#Stately-mermaid .statediagram-cluster rect{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#Stately-mermaid .cluster-label,#Stately-mermaid .nodeLabel{color:#131300;}#Stately-mermaid .statediagram-cluster rect.outer{rx:5px;ry:5px;}#Stately-mermaid .statediagram-state .divider{stroke:#9370DB;}#Stately-mermaid .statediagram-state .title-state{rx:5px;ry:5px;}#Stately-mermaid .statediagram-cluster.statediagram-cluster .inner{fill:white;}#Stately-mermaid .statediagram-cluster.statediagram-cluster-alt .inner{fill:#f0f0f0;}#Stately-mermaid .statediagram-cluster .inner{rx:0;ry:0;}#Stately-mermaid .statediagram-state rect.basic{rx:5px;ry:5px;}#Stately-mermaid .statediagram-state rect.divider{stroke-dasharray:10,10;fill:#f0f0f0;}#Stately-mermaid .note-edge{stroke-dasharray:5;}#Stately-mermaid .statediagram-note rect{fill:#fff5ad;stroke:#aaaa33;stroke-width:1px;rx:0;ry:0;}#Stately-mermaid .statediagram-note rect{fill:#fff5ad;stroke:#aaaa33;stroke-width:1px;rx:0;ry:0;}#Stately-mermaid .statediagram-note text{fill:black;}#Stately-mermaid .statediagram-note .nodeLabel{color:black;}#Stately-mermaid .statediagram .edgeLabel{color:red;}#Stately-mermaid #dependencyStart,#Stately-mermaid #dependencyEnd{fill:#333333;stroke:#333333;stroke-width:1;}#Stately-mermaid .statediagramTitleText{text-anchor:middle;font-size:18px;fill:#333;}#Stately-mermaid :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><defs><marker orient="auto" markerUnits="strokeWidth" markerHeight="14" markerWidth="20" refY="7" refX="19" id="statediagram-barbEnd"><path d="M 19,7 L9,13 L14,7 L9,1 Z"></path></marker></defs><g class="root"><g class="clusters"></g><g class="edgePaths"><path style="fill:none" class="edge-thickness-normal transition" id="edge8" d="M837.253,878L836.075,882.167C834.898,886.333,832.543,894.667,853.032,903C873.521,911.333,916.854,919.667,938.521,923.833L960.188,928"></path><path marker-end="url(#statediagram-barbEnd)" style="fill:none" class="edge-thickness-normal transition" id="edge8" d="M960.188,928L961.854,923.833C963.521,919.667,966.854,911.333,968.43,903C970.006,894.667,969.825,886.333,969.735,882.167L969.644,878"></path><path style="fill:none" class="edge-thickness-normal transition" id="edge9" d="M856.166,878L855.169,882.167C854.173,886.333,852.18,894.667,869.517,903C886.854,911.333,923.521,919.667,941.854,923.833L960.188,928"></path><path marker-end="url(#statediagram-barbEnd)" style="fill:none" class="edge-thickness-normal transition" id="edge9" d="M960.188,928L965.188,923.833C970.188,919.667,980.188,911.333,984.916,903C989.644,894.667,989.101,886.333,988.829,882.167L988.557,878"></path><path style="fill:none" class="edge-thickness-normal transition" id="edge10" d="M875.079,878L874.264,882.167C873.448,886.333,871.818,894.667,886.003,903C900.188,911.333,930.188,919.667,945.188,923.833L960.188,928"></path><path marker-end="url(#statediagram-barbEnd)" style="fill:none" class="edge-thickness-normal transition" id="edge10" d="M960.188,928L968.521,923.833C976.854,919.667,993.521,911.333,1001.401,903C1009.282,894.667,1008.376,886.333,1007.923,882.167L1007.47,878"></path><path style="fill:none" class="edge-thickness-normal transition" id="edge11" d="M893.992,878L893.358,882.167C892.724,886.333,891.456,894.667,902.488,903C913.521,911.333,936.854,919.667,948.521,923.833L960.188,928"></path><path marker-end="url(#statediagram-barbEnd)" style="fill:none" class="edge-thickness-normal transition" id="edge11" d="M960.188,928L971.854,923.833C983.521,919.667,1006.854,911.333,1017.887,903C1028.919,894.667,1027.651,886.333,1027.017,882.167L1026.383,878"></path><path style="fill:none" class="edge-thickness-normal transition" id="edge12" d="M912.905,878L912.452,882.167C911.999,886.333,911.093,894.667,918.974,903C926.854,911.333,943.521,919.667,951.854,923.833L960.188,928"></path><path marker-end="url(#statediagram-barbEnd)" style="fill:none" class="edge-thickness-normal transition" id="edge12" d="M960.188,928L975.188,923.833C990.188,919.667,1020.188,911.333,1034.372,903C1048.557,894.667,1046.927,886.333,1046.111,882.167L1045.296,878"></path><path style="fill:none" class="edge-thickness-normal transition" id="edge13" d="M931.818,878L931.546,882.167C931.274,886.333,930.731,894.667,935.459,903C940.188,911.333,950.188,919.667,955.188,923.833L960.188,928"></path><path marker-end="url(#statediagram-barbEnd)" style="fill:none" class="edge-thickness-normal transition" id="edge13" d="M960.188,928L978.521,923.833C996.854,919.667,1033.521,911.333,1050.858,903C1068.195,894.667,1066.202,886.333,1065.206,882.167L1064.209,878"></path><path style="fill:none" class="edge-thickness-normal transition" id="edge14" d="M950.731,878L950.64,882.167C950.55,886.333,950.369,894.667,951.945,903C953.521,911.333,956.854,919.667,958.521,923.833L960.188,928"></path><path marker-end="url(#statediagram-barbEnd)" style="fill:none" class="edge-thickness-normal transition" id="edge14" d="M960.188,928L981.854,923.833C1003.521,919.667,1046.854,911.333,1067.343,903C1087.832,894.667,1085.477,886.333,1084.3,882.167L1083.122,878"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"></rect><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"></rect><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"></rect><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"></rect><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"></rect><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"></rect><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"></rect><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"></rect><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"></rect><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"></rect><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"></rect><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"></rect><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"></rect><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"></rect><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(698.357421875, 0)" class="root"><g class="clusters"><g id="user" class="statediagram-state statediagram-cluster"><rect height="870" width="1904.375" y="8" x="-689.857421875" class="outer"></rect><g transform="translate(-682.357421875, 8)" class="cluster-label"><foreignObject height="168" width="1889.375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">user<br><br>Copyright (c) 2023 The Building Blocks Limited<br><br>Describes a DeRec User's operational state in respect of its Helpers.<br><br>The User state machine receives notifications from the various independent Helper state machines to maintain overall state in respect of minimum numbers of helpers and requirements for a quorum of those helpers to be online for the service to be operational.</span></div></foreignObject></g><rect height="699" width="1904.375" y="175" x="-689.857421875" class="inner"></rect></g></g><g class="edgePaths"><path marker-end="url(#statediagram-barbEnd)" style="fill:none" class="edge-thickness-normal transition" id="edge0" d="M262.068,47L262.068,51.167C262.068,55.333,262.068,63.667,262.068,72C262.068,80.333,262.068,88.667,262.068,92.833L262.068,97"></path><path marker-end="url(#statediagram-barbEnd)" style="fill:none" class="edge-thickness-normal transition" id="edge1" d="M242.108,136L231.702,146.167C221.296,156.333,200.483,176.667,192.413,197C184.343,217.333,189.017,237.667,191.354,247.833L193.69,258"></path><path marker-end="url(#statediagram-barbEnd)" style="fill:none" class="edge-thickness-normal transition" id="edge2" d="M330.446,258L332.783,247.833C335.12,237.667,339.793,217.333,331.724,197C323.654,176.667,302.841,156.333,292.435,146.167L282.028,136"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"></rect><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(179.669921875, 197)" class="edgeLabel"><g transform="translate(-71.875, -36)" class="label"><rect height="72" width="143.75" ry="0" rx="0"></rect><foreignObject height="72" width="143.75"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">helperAccepted<br>if [isEnoughHelpers] <br>do / addHelper</span></div></foreignObject></g></g><g transform="translate(344.466796875, 197)" class="edgeLabel"><g transform="translate(-72.921875, -36)" class="label"><rect height="72" width="145.84375" ry="0" rx="0"></rect><foreignObject height="72" width="145.84375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">helperRemoved<br>if [isTooFewHelpers] <br>do / removeHelper</span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(262.068359375, 40)" id="state-user_start-0" class="node default"><circle height="14" width="14" r="7" class="state-start"></circle></g><g transform="translate(262.068359375, 116.5)" id="state-user.tooFewHelpers-3" class="node  statediagram-state"><rect height="39" width="121.796875" y="-19.5" x="-60.8984375" style="" class="basic label-container"></rect><g transform="translate(-53.3984375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="106.796875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">tooFewHelpers</span></div></foreignObject></g></g><g transform="translate(38.103515625, 250)" class="root"><g class="clusters"><g id="user.enoughHelpers" class="statediagram-state statediagram-cluster statediagram-cluster-alt"><rect height="595" width="432.9296875" y="8" x="8" class="outer"></rect><g transform="translate(171.55078125, 8)" class="cluster-label"><foreignObject height="24" width="105.828125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">enoughHelpers</span></div></foreignObject></g><rect height="568" width="432.9296875" y="31" x="8" class="inner"></rect></g></g><g class="edgePaths"><path marker-end="url(#statediagram-barbEnd)" style="fill:none" class="edge-thickness-normal transition" id="edge3" d="M207.145,47L207.145,51.167C207.145,55.333,207.145,63.667,207.145,72C207.145,80.333,207.145,88.667,207.145,92.833L207.145,97"></path><path marker-end="url(#statediagram-barbEnd)" style="fill:none" class="edge-thickness-normal transition" id="edge4" d="M240.249,184L246.464,192.167C252.679,200.333,265.109,216.667,271.324,233C277.539,249.333,277.539,265.667,277.539,273.833L277.539,282"></path><path marker-end="url(#statediagram-barbEnd)" style="fill:none" class="edge-thickness-normal transition" id="edge5" d="M149.197,184L138.317,192.167C127.438,200.333,105.68,216.667,94.801,240.25C83.922,263.833,83.922,294.667,83.922,327.5C83.922,360.333,83.922,395.167,95.475,422.75C107.028,450.333,130.134,470.667,141.687,480.833L153.24,491"></path><path marker-end="url(#statediagram-barbEnd)" style="fill:none" class="edge-thickness-normal transition" id="edge6" d="M246.374,369L239.091,379.167C231.807,389.333,217.239,409.667,209.956,430C202.672,450.333,202.672,470.667,202.672,480.833L202.672,491"></path><path marker-end="url(#statediagram-barbEnd)" style="fill:none" class="edge-thickness-normal transition" id="edge7" d="M261.278,491L274.975,480.833C288.672,470.667,316.067,450.333,323.35,430C330.634,409.667,317.807,389.333,311.394,379.167L304.98,369"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"></rect><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(277.5390625, 233)" class="edgeLabel"><g transform="translate(-67.875, -24)" class="label"><rect height="48" width="135.75" ry="0" rx="0"></rect><foreignObject height="48" width="135.75"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">always<br>if [isStaticQuorum]</span></div></foreignObject></g></g><g transform="translate(83.921875, 325.5)" class="edgeLabel"><g transform="translate(-23.90625, -12)" class="label"><rect height="24" width="47.8125" ry="0" rx="0"></rect><foreignObject height="24" width="47.8125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">always</span></div></foreignObject></g></g><g transform="translate(202.671875, 430)" class="edgeLabel"><g transform="translate(-67.1796875, -36)" class="label"><rect height="72" width="134.359375" ry="0" rx="0"></rect><foreignObject height="72" width="134.359375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">helperOutOfSync<br>if [isNotQuorum] <br>do / removeInSync</span></div></foreignObject></g></g><g transform="translate(343.4609375, 430)" class="edgeLabel"><g transform="translate(-53.609375, -36)" class="label"><rect height="72" width="107.21875" ry="0" rx="0"></rect><foreignObject height="72" width="107.21875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">helperInSync<br>if [isQuorum] <br>do / addInSync</span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(207.14453125, 40)" id="state-user.enoughHelpers_start-3" class="node default"><circle height="14" width="14" r="7" class="state-start"></circle></g><g transform="translate(207.14453125, 140.5)" id="state-user.enoughHelpers.findQuorum-8" class="node  statediagram-state"><rect height="87" width="145.875" y="-43.5" x="-72.9375" style="" class="basic label-container"></rect><g transform="translate(-65.4375, -36)" style="" class="label"><rect></rect><foreignObject height="72" width="130.875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">findQuorum<br><br>Pass through state</span></div></foreignObject></g></g><g transform="translate(277.5390625, 325.5)" id="state-user.enoughHelpers.quorate-8" class="node  statediagram-state"><rect height="87" width="172.65625" y="-43.5" x="-86.328125" style="" class="basic label-container"></rect><g transform="translate(-78.828125, -36)" style="" class="label"><rect></rect><foreignObject height="72" width="157.65625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">quorate<br><br>Enough helpers online</span></div></foreignObject></g></g><g transform="translate(202.671875, 534.5)" id="state-user.enoughHelpers.inquorate-8" class="node  statediagram-state"><rect height="87" width="202.34375" y="-43.5" x="-101.171875" style="" class="basic label-container"></rect><g transform="translate(-93.671875, -36)" style="" class="label"><rect></rect><foreignObject height="72" width="187.34375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">inquorate<br><br>Insufficient helpers online</span></div></foreignObject></g></g></g></g></g></g><g transform="translate(960.1875, 928)" id="user---user" class="label edgeLabel"><rect height="0" width="0"></rect><g transform="translate(-79.5546875, -24)" style="" class="label"><rect height="48" width="159.109375" ry="0" rx="0"></rect><rect></rect><foreignObject height="48" width="159.109375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">* <br>do / log(statusLogger)</span></div></foreignObject></g></g></g></g></g></svg>
